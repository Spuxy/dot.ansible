- name: "My Zsh shiet !"
  community.general.pacman:
    name:
      - zsh
      - vivid
    state: present
  become: true
  become_user: 'root'
  become_method: 'sudo'

- name: "change default shell to zsh"
  user:
    name: "{{ ansible_user }}"
    shell: /bin/zsh

# - name: "Check that the somefile.conf exists"
#   stat:
#     path: /home/spuxy/.oh-my-zsh
#   register: oh_my_stats

- name: "ðŸ“¦ installing a zinit manager"
  shell:
    cmd: [
      'bash -c "$(curl --fail --show-error --silent --location https://raw.githubusercontent.com/zdharma-continuum/zinit/HEAD/scripts/install.sh)',
      'zinit self-update'
    ]
  become: true
  become_user: "{{ ansible_user }}"

- name: "ðŸ˜» isntalling pokemon-colorscript"
  shell:
    cmd: "yay -S --answerclean Y --answerdiff N --noconfirm --noprogressbar pokemon-colorscripts-git"
  become: true
  become_user: "{{ ansible_user }}"

- name: "copying a dotfiles"
  shell: "stow -d {{ ansible_dotfiles }} -S zsh"
