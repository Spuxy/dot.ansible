- name: "GTK"
  block:
  - name: "installing a packages"
    community.general.pacman:
      name:
        - "{{ pkg1 }}"
        - "{{ pkg2 }}"
        - "{{ pkg3 }}"
        - "{{ pkg4 }}"
      state: present
    become: true
    become_user: 'root'
    become_method: 'sudo'

  - name: check if themes exists
    stat:
      path: "/usr/share/themes/Colloid-Compact-Gruvbox"
    register: gtk_themes

  - name: "installing themes"
    shell:
      cmd: "yay -S --answerclean Y --answerdiff N --noconfirm --noprogressbar colloid-gruvbox-gtk-theme-git"
    become: true
    become_user: spuxy
    when: not gtk_themes.stat.exists

  vars:
    pkg1: "gtk4"
    pkg2: "adwaita-icon-theme"
    pkg3: "nautilus"
    pkg4: "gtk-engine-murrine"
